{"is_source_file": true, "format": "JavaScript", "description": "The file defines functions and constants for managing recipe data, including CRUD operations, filtering, analytics calculation, and data normalization in a recipe management web application. It interacts with local storage and external modules for reviews, favorites, and community comments.", "external_files": ["./recipes", "./favorites", "./reviews", "./community"], "external_methods": ["getLocalRecipes", "setLocalRecipes", "upsertLocalRecipe", "deleteLocalRecipe", "getFavoriteIds", "setFavoriteIds", "purgeReviewsForRecipe", "computeRatingsAnalytics", "purgeCommentsForRecipe", "purgeLikesForRecipe"], "published": ["RECIPE_STATUS", "RECIPE_SOURCE", "normalizeAdminFields", "getAllStoredRecipes", "getApprovedRecipes", "getPendingRecipes", "approveRecipe", "rejectRecipe", "adminUpsert", "hardDeleteRecipe", "computeAnalytics"], "classes": [], "methods": [{"name": "normalizeAdminFields(recipe, { defaultStatus = RECIPE_STATUS.PENDING, source = RECIPE_SOURCE.USER, submittedBy = 'user' } = {})", "description": "Normalizes a recipe object by ensuring required admin fields exist and setting default values for source, status, submittedBy, createdAt, and updatedAt.", "scope": "", "scopeKind": ""}, {"name": "getAllStoredRecipes()", "description": "Retrieves all locally stored recipes.", "scope": "", "scopeKind": ""}, {"name": "getApprovedRecipes(recipesArray)", "description": "Filters and returns only recipes with 'approved' status.", "scope": "", "scopeKind": ""}, {"name": "getPendingRecipes(recipesArray)", "description": "Filters and returns recipes with 'pending' status for approval.", "scope": "", "scopeKind": ""}, {"name": "approveRecipe(id)", "description": "Sets the status of a recipe to 'approved' based on its ID.", "scope": "", "scopeKind": ""}, {"name": "rejectRecipe(id)", "description": "Rejects a recipe by ID, removing it from local storage and cleaning up associated favorites and reviews.", "scope": "", "scopeKind": ""}, {"name": "adminUpsert(recipeDraft)", "description": "Creates or updates a recipe with admin privileges, setting default status and timestamps.", "scope": "", "scopeKind": ""}, {"name": "hardDeleteRecipe(id)", "description": "Deletes a recipe by ID and cleans up associated favorites and reviews.", "scope": "", "scopeKind": ""}, {"name": "computeAnalytics(recipesArray)", "description": "Computes various analytics metrics for a list of recipes, including counts, categories, ratings, and top recipes.", "scope": "", "scopeKind": ""}], "calls": ["getLocalRecipes", "setLocalRecipes", "upsertLocalRecipe", "deleteLocalRecipe", "getFavoriteIds", "setFavoriteIds", "purgeReviewsForRecipe", "computeRatingsAnalytics", "purgeCommentsForRecipe", "purgeLikesForRecipe"], "search-terms": ["admin recipe management", "recipe analytics", "local storage recipes", "recipe approval", "recipe normalization"], "state": 2, "file_id": 25, "knowledge_revision": 169, "git_revision": "826b4e30e6e4db72579867154d8a9adf6b01873c", "revision_history": [{"101": "fb9208cc71fde28bfe44d4f41c102d6db578c854"}, {"113": "4c3b3369fda8cc69e616a9a60540fcd3129911a8"}, {"118": "4c3b3369fda8cc69e616a9a60540fcd3129911a8"}, {"169": "826b4e30e6e4db72579867154d8a9adf6b01873c"}], "ctags": [{"_type": "tag", "name": "1", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "property", "scope": "computeAnalytics.ratings.ratingDistribution", "scopeKind": "class"}, {"_type": "tag", "name": "2", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "property", "scope": "computeAnalytics.ratings.ratingDistribution", "scopeKind": "class"}, {"_type": "tag", "name": "3", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "property", "scope": "computeAnalytics.ratings.ratingDistribution", "scopeKind": "class"}, {"_type": "tag", "name": "4", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "property", "scope": "computeAnalytics.ratings.ratingDistribution", "scopeKind": "class"}, {"_type": "tag", "name": "5", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "property", "scope": "computeAnalytics.ratings.ratingDistribution", "scopeKind": "class"}, {"_type": "tag", "name": "APPROVED", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  APPROVED: 'approved',$/", "language": "JavaScript", "kind": "property", "scope": "RECIPE_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "MOCK", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  MOCK: 'mock',$/", "language": "JavaScript", "kind": "property", "scope": "RECIPE_SOURCE", "scopeKind": "class"}, {"_type": "tag", "name": "PENDING", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  PENDING: 'pending',$/", "language": "JavaScript", "kind": "property", "scope": "RECIPE_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "RECIPE_SOURCE", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export const RECIPE_SOURCE = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "RECIPE_STATUS", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export const RECIPE_STATUS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "REJECTED", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  REJECTED: 'rejected',$/", "language": "JavaScript", "kind": "property", "scope": "RECIPE_STATUS", "scopeKind": "class"}, {"_type": "tag", "name": "USER", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  USER: 'user',$/", "language": "JavaScript", "kind": "property", "scope": "RECIPE_SOURCE", "scopeKind": "class"}, {"_type": "tag", "name": "adminUpsert", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function adminUpsert(recipeDraft) {$/", "language": "JavaScript", "kind": "function", "signature": "(recipeDraft)"}, {"_type": "tag", "name": "approveRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function approveRecipe(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "averageRatingAcrossApproved", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "property", "scope": "computeAnalytics.ratings", "scopeKind": "class"}, {"_type": "tag", "name": "computeAnalytics", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function computeAnalytics(recipesArray) {$/", "language": "JavaScript", "kind": "function", "signature": "(recipesArray)"}, {"_type": "tag", "name": "getAllStoredRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function getAllStoredRecipes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getApprovedRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function getApprovedRecipes(recipesArray) {$/", "language": "JavaScript", "kind": "function", "signature": "(recipesArray)"}, {"_type": "tag", "name": "getPendingRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function getPendingRecipes(recipesArray) {$/", "language": "JavaScript", "kind": "function", "signature": "(recipesArray)"}, {"_type": "tag", "name": "hardDeleteRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function hardDeleteRecipe(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "normalizeAdminFields", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function normalizeAdminFields(recipe, { defaultStatus = RECIPE_STATUS.PENDING, source = R/", "language": "JavaScript", "kind": "function", "signature": "(recipe, { defaultStatus = RECIPE_STATUS.PENDING, source = RECIPE_SOURCE.USER, submittedBy = 'user' } = {})"}, {"_type": "tag", "name": "perRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "property", "scope": "computeAnalytics.ratings", "scopeKind": "class"}, {"_type": "tag", "name": "ratingDistribution", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "class", "scope": "computeAnalytics.ratings", "scopeKind": "class"}, {"_type": "tag", "name": "ratings", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^  let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "language": "JavaScript", "kind": "class", "scope": "computeAnalytics", "scopeKind": "class"}, {"_type": "tag", "name": "rejectRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/adminRecipes.js", "pattern": "/^export function rejectRecipe(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}], "hash": "38d7372d2f61b6300b4d20899f4f8e0c", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/data/adminRecipes.js", "fields": [{"name": "let ratings = { perRecipe: new Map(), averageRatingAcrossApproved: 0, ratingDistribution: { 1:/", "scope": "computeAnalytics.ratings.ratingDistribution", "scopeKind": "class", "description": "unavailable"}, {"name": "APPROVED: 'approved',", "scope": "RECIPE_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "MOCK: 'mock',", "scope": "RECIPE_SOURCE", "scopeKind": "class", "description": "unavailable"}, {"name": "PENDING: 'pending',", "scope": "RECIPE_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "REJECTED: 'rejected',", "scope": "RECIPE_STATUS", "scopeKind": "class", "description": "unavailable"}, {"name": "USER: 'user',", "scope": "RECIPE_SOURCE", "scopeKind": "class", "description": "unavailable"}]}