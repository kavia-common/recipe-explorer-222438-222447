{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component for the admin recipes management page, including listing, searching, sorting, viewing, editing, and deleting recipes, with modal dialogs and interaction handling.", "external_files": ["./AdminLayout", "../RecipeForm", "../ConfirmDialog", "../RecipeDetailModal", "../../data/adminRecipes", "../../data/community"], "external_methods": ["hardDeleteRecipe", "adminUpsert", "getLikeCount", "getCommentsForRecipe"], "published": [], "classes": [{"name": "StatusBadge", "description": "React functional component for displaying a styled status badge based on recipe status."}], "methods": [{"name": "save", "description": "Handles the saving of a recipe draft by calling adminUpsert and updating the recipes list."}, {"name": "confirmDelete", "description": "Confirms and executes the deletion of a recipe, updating the parent component accordingly."}, {"name": "onEdit", "description": "Sets the current recipe to edit."}, {"name": "onDelete", "description": "Prepares a recipe for deletion and opens confirmation dialog."}], "calls": ["setSelected", "setConfirmOpen", "setToDelete", "adminUpsert", "hardDeleteRecipe", "setEditing", "setQuery", "setSortTimeAsc", "setSelected", "setToDelete"], "search-terms": ["RecipesAdmin", "RecipeForm", "adminUpsert", "hardDeleteRecipe", "React useState", "React useMemo", "RecipeDetailModal", "ConfirmDialog", "StatusBadge"], "state": 2, "file_id": 28, "knowledge_revision": 189, "git_revision": "3f33dd3146149eb083241856aeae6a40fc679ad6", "revision_history": [{"104": "fb9208cc71fde28bfe44d4f41c102d6db578c854"}, {"114": "4c3b3369fda8cc69e616a9a60540fcd3129911a8"}, {"124": "ae1604b49c5a8b0547f061120a01b9e10f1f8be3"}, {"168": "826b4e30e6e4db72579867154d8a9adf6b01873c"}, {"189": "3f33dd3146149eb083241856aeae6a40fc679ad6"}], "ctags": [{"_type": "tag", "name": "RecipesAdmin", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^const RecipesAdmin = ({ recipes, onRecipesChange }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "StatusBadge", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^const StatusBadge = ({ status }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "approved", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    approved: { bg: 'rgba(37,99,235,0.10)', border: 'color-mix(in oklab, var(--ocean-primary), v/", "language": "JavaScript", "kind": "class", "scope": "map", "scopeKind": "class"}, {"_type": "tag", "name": "background", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  background: 'color-mix(in oklab, var(--ocean-surface) 96%, transparent)',$/", "language": "JavaScript", "kind": "property", "scope": "th", "scopeKind": "class"}, {"_type": "tag", "name": "bg", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    approved: { bg: 'rgba(37,99,235,0.10)', border: 'color-mix(in oklab, var(--ocean-primary), v/", "language": "JavaScript", "kind": "property", "scope": "map.approved", "scopeKind": "class"}, {"_type": "tag", "name": "bg", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    pending: { bg: 'rgba(245,158,11,0.12)', border: 'color-mix(in oklab, var(--ocean-secondary),/", "language": "JavaScript", "kind": "property", "scope": "map.pending", "scopeKind": "class"}, {"_type": "tag", "name": "bg", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    rejected: { bg: 'rgba(239,68,68,0.12)', border: 'color-mix(in oklab, var(--ocean-error), var/", "language": "JavaScript", "kind": "property", "scope": "map.rejected", "scopeKind": "class"}, {"_type": "tag", "name": "border", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    approved: { bg: 'rgba(37,99,235,0.10)', border: 'color-mix(in oklab, var(--ocean-primary), v/", "language": "JavaScript", "kind": "property", "scope": "map.approved", "scopeKind": "class"}, {"_type": "tag", "name": "border", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    pending: { bg: 'rgba(245,158,11,0.12)', border: 'color-mix(in oklab, var(--ocean-secondary),/", "language": "JavaScript", "kind": "property", "scope": "map.pending", "scopeKind": "class"}, {"_type": "tag", "name": "border", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    rejected: { bg: 'rgba(239,68,68,0.12)', border: 'color-mix(in oklab, var(--ocean-error), var/", "language": "JavaScript", "kind": "property", "scope": "map.rejected", "scopeKind": "class"}, {"_type": "tag", "name": "borderBottom", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  borderBottom: '1px solid var(--ocean-border)',$/", "language": "JavaScript", "kind": "property", "scope": "td", "scopeKind": "class"}, {"_type": "tag", "name": "borderBottom", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  borderBottom: '1px solid var(--ocean-border)',$/", "language": "JavaScript", "kind": "property", "scope": "th", "scopeKind": "class"}, {"_type": "tag", "name": "confirmDelete", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^        onConfirm={confirmDelete}$/", "language": "JavaScript", "kind": "field", "scope": "onConfirm", "scopeKind": "class"}, {"_type": "tag", "name": "confirmDelete", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const confirmDelete = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "confirmOpen", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^        open={confirmOpen}$/", "language": "JavaScript", "kind": "field", "scope": "open", "scopeKind": "class"}, {"_type": "tag", "name": "filtered", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const filtered = useMemo(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const map = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    const next = adminUpsert(draft);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    const next = hardDeleteRecipe(toDelete.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "onDelete", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const onDelete = (r) => { setToDelete(r); setConfirmOpen(true); };$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "onEdit", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const onEdit = (r) => { setEditing(r); };$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "padding", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  padding: '10px 12px',$/", "language": "JavaScript", "kind": "property", "scope": "td", "scopeKind": "class"}, {"_type": "tag", "name": "padding", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  padding: '10px 12px',$/", "language": "JavaScript", "kind": "property", "scope": "th", "scopeKind": "class"}, {"_type": "tag", "name": "pending", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    pending: { bg: 'rgba(245,158,11,0.12)', border: 'color-mix(in oklab, var(--ocean-secondary),/", "language": "JavaScript", "kind": "class", "scope": "map", "scopeKind": "class"}, {"_type": "tag", "name": "position", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  position: 'sticky',$/", "language": "JavaScript", "kind": "property", "scope": "th", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^          value={query}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "recipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^const RecipesAdmin = ({ recipes, onRecipesChange }) => {$/", "language": "JavaScript", "kind": "field", "scope": "RecipesAdmin", "scopeKind": "class"}, {"_type": "tag", "name": "rejected", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^    rejected: { bg: 'rgba(239,68,68,0.12)', border: 'color-mix(in oklab, var(--ocean-error), var/", "language": "JavaScript", "kind": "class", "scope": "map", "scopeKind": "class"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const s = map[st] || map.approved;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const save = (draft) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setConfirmOpen", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const [confirmOpen, setConfirmOpen] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setEditing", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const [editing, setEditing] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setQuery", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const [query, setQuery] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelected", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const [selected, setSelected] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSortTimeAsc", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const [sortTimeAsc, setSortTimeAsc] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setToDelete", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const [toDelete, setToDelete] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "st", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  const st = String(status || 'approved');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^const StatusBadge = ({ status }) => {$/", "language": "JavaScript", "kind": "field", "scope": "StatusBadge", "scopeKind": "class"}, {"_type": "tag", "name": "td", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^const td = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "textAlign", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  textAlign: 'left',$/", "language": "JavaScript", "kind": "property", "scope": "th", "scopeKind": "class"}, {"_type": "tag", "name": "th", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^const th = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "toDelete", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^        message={toDelete ? `Are you sure you want to delete \"${toDelete.title}\"?` : 'Are you su/", "language": "JavaScript", "kind": "field", "scope": "message", "scopeKind": "class"}, {"_type": "tag", "name": "top", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/components/admin/RecipesAdmin.js", "pattern": "/^  top: 0,$/", "language": "JavaScript", "kind": "property", "scope": "th", "scopeKind": "class"}], "hash": "9f99d80c6f29149ae348cce84bc006f1", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/components/admin/RecipesAdmin.js", "fields": [{"name": "background: 'color-mix(in oklab, var(--ocean-surface) 96%, transparent)',", "scope": "th", "scopeKind": "class", "description": "unavailable"}, {"name": "approved: { bg: 'rgba(37,99,235,0.10)', border: 'color-mix(in oklab, var(--ocean-primary), v/", "scope": "map.approved", "scopeKind": "class", "description": "unavailable"}, {"name": "pending: { bg: 'rgba(245,158,11,0.12)', border: 'color-mix(in oklab, var(--ocean-secondary),/", "scope": "map.pending", "scopeKind": "class", "description": "unavailable"}, {"name": "rejected: { bg: 'rgba(239,68,68,0.12)', border: 'color-mix(in oklab, var(--ocean-error), var/", "scope": "map.rejected", "scopeKind": "class", "description": "unavailable"}, {"name": "borderBottom: '1px solid var(--ocean-border)',", "scope": "td", "scopeKind": "class", "description": "unavailable"}, {"name": "onConfirm={confirmDelete}", "scope": "onConfirm", "scopeKind": "class", "description": "unavailable"}, {"name": "open={confirmOpen}", "scope": "open", "scopeKind": "class", "description": "unavailable"}, {"name": "padding: '10px 12px',", "scope": "td", "scopeKind": "class", "description": "unavailable"}, {"name": "position: 'sticky',", "scope": "th", "scopeKind": "class", "description": "unavailable"}, {"name": "value={query}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "const RecipesAdmin = ({ recipes, onRecipesChange }) => {", "scope": "RecipesAdmin", "scopeKind": "class", "description": "unavailable"}, {"name": "const StatusBadge = ({ status }) => {", "scope": "StatusBadge", "scopeKind": "class", "description": "unavailable"}, {"name": "textAlign: 'left',", "scope": "th", "scopeKind": "class", "description": "unavailable"}, {"name": "message={toDelete ? `Are you sure you want to delete \"${toDelete.title}\"?` : 'Are you su/", "scope": "message", "scopeKind": "class", "description": "unavailable"}, {"name": "top: 0,", "scope": "th", "scopeKind": "class", "description": "unavailable"}]}