{"is_source_file": true, "file_id": 39, "git_revision": "", "state": 1, "description": "", "external_files": [], "external_methods": [], "published": [], "classes": [], "methods": [], "calls": [], "search-terms": [], "ctags": [{"_type": "tag", "name": "DEFAULTS", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^const DEFAULTS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "LS_KEY", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^const LS_KEY = 'app_notifications:v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^      body: body || '',$/", "language": "JavaScript", "kind": "property", "scope": "notify.payload", "scopeKind": "class"}, {"_type": "tag", "name": "collectTodayPlan", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function collectTodayPlan(getTodayPlan) {$/", "language": "JavaScript", "kind": "function", "signature": "(getTodayPlan)"}, {"_type": "tag", "name": "dailySuggestion", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^  dailySuggestion: {$/", "language": "JavaScript", "kind": "class", "scope": "DEFAULTS", "scopeKind": "class"}, {"_type": "tag", "name": "deepMerge", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function deepMerge(base, extra) {$/", "language": "JavaScript", "kind": "function", "signature": "(base, extra)"}, {"_type": "tag", "name": "enabled", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    enabled: false,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.dailySuggestion", "scopeKind": "class"}, {"_type": "tag", "name": "enabled", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    enabled: false,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.mealReminders", "scopeKind": "class"}, {"_type": "tag", "name": "enabled", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    enabled: false,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.newRecipeAlerts", "scopeKind": "class"}, {"_type": "tag", "name": "formatCooking", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function formatCooking(mins) {$/", "language": "JavaScript", "kind": "function", "signature": "(mins)"}, {"_type": "tag", "name": "getDefaultIcon", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function getDefaultIcon() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getNotificationSettings", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^export function getNotificationSettings() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getPermissionState", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^export function getPermissionState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "icon", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^      icon: icon || getDefaultIcon(),$/", "language": "JavaScript", "kind": "property", "scope": "notify.payload", "scopeKind": "class"}, {"_type": "tag", "name": "isPlainObject", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function isPlainObject(v) { return v && typeof v === 'object' && !Array.isArray(v); }$/", "language": "JavaScript", "kind": "function", "signature": "(v)"}, {"_type": "tag", "name": "isTimeReachedToday", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function isTimeReachedToday(now, hhmm) {$/", "language": "JavaScript", "kind": "function", "signature": "(now, hhmm)"}, {"_type": "tag", "name": "lastSeenRecipeIds", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    lastSeenRecipeIds: [], \\/\\/ recipe ids observed as approved$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.newRecipeAlerts", "scopeKind": "class"}, {"_type": "tag", "name": "lastSentISO", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    lastSentISO: null,$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.dailySuggestion", "scopeKind": "class"}, {"_type": "tag", "name": "lastSentISOByDate", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    lastSentISOByDate: {}, \\/\\/ map of yyyy-mm-dd => true (sent)$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.mealReminders", "scopeKind": "class"}, {"_type": "tag", "name": "mealReminders", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^  mealReminders: {$/", "language": "JavaScript", "kind": "class", "scope": "DEFAULTS", "scopeKind": "class"}, {"_type": "tag", "name": "newRecipeAlerts", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^  newRecipeAlerts: {$/", "language": "JavaScript", "kind": "class", "scope": "DEFAULTS", "scopeKind": "class"}, {"_type": "tag", "name": "notify", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^export function notify({ title, body, icon, onClick }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ title, body, icon, onClick })"}, {"_type": "tag", "name": "parseHHMMToMinutes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function parseHHMMToMinutes(hhmm) {$/", "language": "JavaScript", "kind": "function", "signature": "(hhmm)"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "notify", "scopeKind": "class"}, {"_type": "tag", "name": "pickDaily", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function pickDaily(recipes, todayISO) {$/", "language": "JavaScript", "kind": "function", "signature": "(recipes, todayISO)"}, {"_type": "tag", "name": "requestBrowserPermission", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^export async function requestBrowserPermission() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "safeArr", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function safeArr(a) { return Array.isArray(a) ? a : []; }$/", "language": "JavaScript", "kind": "function", "signature": "(a)"}, {"_type": "tag", "name": "saveNotificationSettings", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^export function saveNotificationSettings(next) {$/", "language": "JavaScript", "kind": "function", "signature": "(next)"}, {"_type": "tag", "name": "startNotificationScheduler", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^export function startNotificationScheduler({ getApprovedRecipes, getTodayPlan }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ getApprovedRecipes, getTodayPlan })"}, {"_type": "tag", "name": "stringHash", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function stringHash(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "tick", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function tick({ getApprovedRecipes, getTodayPlan }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ getApprovedRecipes, getTodayPlan })"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    time: '09:00', \\/\\/ 24h local$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.dailySuggestion", "scopeKind": "class"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^    time: '18:00', \\/\\/ single reminder per day$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULTS.mealReminders", "scopeKind": "class"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^      timestamp: Date.now(),$/", "language": "JavaScript", "kind": "property", "scope": "notify.payload", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^      title: title || 'Notification',$/", "language": "JavaScript", "kind": "property", "scope": "notify.payload", "scopeKind": "class"}, {"_type": "tag", "name": "toISODate", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^function toISODate(d = new Date()) { const x = new Date(d); x.setHours(0,0,0,0); return x.toISOS/", "language": "JavaScript", "kind": "function", "signature": "(d = new Date())"}, {"_type": "tag", "name": "validateHHMM", "path": "/home/kavia/workspace/code-generation/recipe-explorer-222438-222447/frontend/src/data/notifications.js", "pattern": "/^export function validateHHMM(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}], "format": "JavaScript", "hash": "d65dbfd1f35b8480fb344d96881f7e9e", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/data/notifications.js", "knowledge_revision": 151}